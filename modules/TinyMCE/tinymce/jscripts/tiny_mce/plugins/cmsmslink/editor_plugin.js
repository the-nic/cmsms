/**
 * $RCSfile: editor_plugin_src.js,v $
 * $Revision: 0.1 $
 * $Date: 2006/04/15 20:06:23 $
 *
 * @author Stefan Roellin
 * @copyright Copyright © 2004-2006, All rights reserved.
 */
 tinyMCE.importPluginLanguagePack('cmsmslink','en,tr,he,nb,ru,ru_KOI8-R,ru_UTF-8,nn,fi,cy,es,is,pl');var TinyMCE_CMSMSLinkPlugin={getInfo:function(){return{longname:'CMSMSLink plugin',author:'Stefan Roellin',authorurl:'-',infourl:'-',version:"1.0"};},initInstance:function(inst){},getControlHTML:function(cn){switch(cn){case "cmsmslink":return tinyMCE.getButtonHTML(cn,'lang_cmsmslink_description','{$pluginurl}/images/cmsmslink.gif','mceCMSMSLink',true);}return "";},execCommand:function(editor_id,element,command,user_interface,value){switch(command){case "mceCMSMSLink":var anySelection=false;var inst=tinyMCE.getInstanceById(editor_id);var focusElm=inst.getFocusElement();var selectedText=inst.selection.getSelectedText();if(tinyMCE.selectedElement)anySelection=(tinyMCE.selectedElement.nodeName.toLowerCase()=="img")||(selectedText&&selectedText.length>0);var cmsmslink=new Array();cmsmslink['file']='../../plugins/cmsmslink/popup.php';cmsmslink['width']=500;cmsmslink['height']=300;tinyMCE.openWindow(cmsmslink,{editor_id:editor_id});return true;}return false;},handleNodeChange:function(editor_id,node,undo_index,undo_levels,visual_aid,any_selection){if(node.parentNode.nodeName=="STRONG"||node.parentNode.nodeName=="B"){tinyMCE.switchClass(editor_id+'_cmsmslink','mceButtonSelected');return true;}tinyMCE.switchClass(editor_id+'_cmsmslink','mceButtonNormal');},handleEvent:function(e){top.status="cmsmslink plugin event: "+e.type;return true;},handleNodeChange:function(editor_id,node,undo_index,undo_levels,visual_aid,any_selection){if(node==null)return;do{if(node.nodeName=="A"&&tinyMCE.getAttrib(node,'href')!=""){tinyMCE.switchClass(editor_id+'_cmsmslink','mceButtonSelected');return true;}}while((node=node.parentNode));tinyMCE.switchClass(editor_id+'_cmsmslink','mceButtonNormal');return true;}};tinyMCE.addPlugin("cmsmslink",TinyMCE_CMSMSLinkPlugin);