<!DOCTYPE html
PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>Страница</title>
	<script type="text/javascript" src="prototype.js"></script>

	<script type="text/javascript" src="lib/jquery.js"></script>
	<script type="text/javascript" src="lib/sarissa.js"></script>
	<script type="text/javascript" src="lib/jquery.cookie.js"></script>
	<script type="text/javascript" src="lib/jquery.metadata.js"></script>
	<script type="text/javascript" src="lib/jquery.hotkeys.js"></script>

	<script type="text/javascript" src="jquery.tree.js"></script>
	<script type="text/javascript" src="plugins/jquery.tree.xml_nested.js"></script>
	<script type="text/javascript" src="plugins/jquery.tree.cookie.js"></script>
	<script type="text/javascript" src="plugins/jquery.tree.hotkeys.js"></script>
	<script type="text/javascript" src="plugins/jquery.tree.metadata.js"></script>
	<script type="text/javascript" src="plugins/jquery.tree.contextmenu.js"></script>
	<script type="text/javascript" src="plugins/jquery.tree.checkbox.js"></script>
	<script type="text/javascript" src="plugins/jquery.tree.themeroller.js"></script>

	<style type="text/css">
	html, body { font-family:verdana; font-size:10px; }
	.demo { border:5px solid gray; overflow:auto; width:270px; height:200px; float:left; margin:10px; }
	.short { width:40px; height:70px; }
	</style>
	<script type="text/javascript">
	$j = jQuery.noConflict();
	$j(function () {
		//$j.tree.defaults.rules.drag_copy = "on";
		$j.tree.defaults.rules.multitree = "all";

		$j("#demo2").tree({ 
			data : { type : "json", async : true, opts : { url : "./../!!!old/json.php" } },
			selected : "apjson_2",
			opened : [ "apjson_1", "apjson_5" ],
			languages : [ "en", "bg" ],
			ui : { 
				theme_name : "checkbox",
				animation: 500
			},
			rules : {
				// drag_copy:"ctrl",
				multiple:"on",
				max_depth : -1
			},
			types : {
				"default" : {
					icon : {
				//		image : "/admin/modules/connection/icons/connection.png",
				//		position : "-4px -28px"
					}
				},
				"root" : {
					clickable : false,
					icon : {
				//		position : "-4px -4px"
					}
				}
			},
			callback: {
				onrename: function(node, tree, rollback) {
					return;
					tree.lock(true);
					$j.tree.rollback(rollback);
					tree.lock(false);
				},
				/*
				ondelete: function(NODE, TREE_OBJ, RB) {
					$j.tree.rollback(RB);
				},*/
				onselect : function (NODE) { }
			},
			plugins : {
				/*cookie : { prefix : "tree_" },*/
				metadata : {},
				hotkeys : {},
				contextmenu : { items : { remove : { action: function(NODE, TREE_OBJ) { if(confirm("?")) TREE_OBJ.remove(NODE); } } } },
				checkbox : { three_state : true }/*,
				themeroller : { }*/
			}
		});

		$j("#directory").tree();
		//var t = $j.tree.create();
		//t.init("#directory", {  });
	});
	</script>
</head>
<body>
<!--
<button onclick="$j.tree.focused().rename(false);">rename</button>
<button onclick="$j.tree.focused().create();">create</button>
-->
<button onclick="$j('.demo').toggleClass('short');">*</button>
<button onclick="$j.tree.focused().create();">create</button>
<br /><br />
<div id="demo2" class="demo" style="" data="{prase:'umriii'}"></div>
<!--
<ul>
		<li id="" class="open"><a href="#">Root node 1</a>
			<ul>
				<li id=""><a href="#" style="background-image:url('../media/images/ok.png');">Custom icon</a></li>
				<li id=""><a href="#">Child node 2</a></li>
				<li id=""><a href="#">Some oth</a>
			<ul>
				<li id=""><a href="#" style="background-image:url('../media/images/ok.png');">Custom icon</a></li>
				<li id=""><a href="#">Child node 2</a></li>
				<li id=""><a href="#">Some other child node</a></li>
			</ul>
				</li>
			</ul>
		</li>
		<li id="phtml_bb"><a href="#">Root node 2</a>
			<ul>
				<li id="phtml_15"><a href="#" style="background-image:url('../media/images/ok.png');">Custom icon</a></li>
				<li id="phtml_16"><a href="#">Child node 2</a></li>
				<li id="phtml_17"><a href="#">Some other child node</a></li>
			</ul>
		</li>
	</ul>-->
<div id="directory" class="demo">
										<ul><li data="{ deletable : true, renameable : true, type :
'folder'}" id="1" class="open"><a href="#">testdir</a><ul><li data="{creatable : false,
  type : 'folder'}" id="2"><a href="#">testdir2</a><ul><li data="{creatable
: false,   type : 'file'}" id="2"><a href="#"
class="file">file2</a></li><li data="{ deletable : true, renameable : true,
type : 'file'}" id="3"><a href="#" class="file">file3</a></li></ul></li><li
data="{ deletable : true, renameable : true, type : 'file'}" id="1"><a
href="#" class="file">file1</a></li></ul></li></ul>													
									</div>

</body>
</html>



